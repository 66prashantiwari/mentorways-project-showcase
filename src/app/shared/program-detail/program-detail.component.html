<app-loader [show]="loader"></app-loader>

<div id="kt_body" class="header-fixed header-tablet-and-mobile-fixed toolbar-enabled">
  <div class="d-flex flex-column flex-root">
    <!--begin::Page-->
    <div class="page d-flex flex-row flex-column-fluid">
      <!--begin::Wrapper-->
      <div class="wrapper d-flex flex-column flex-row-fluid" id="kt_wrapper">
        <!--begin::Header-->
        <!-- <app-header></app-header> -->
        <!--end::Header-->
        <!--begin::Toolbar-->
        <div class="toolbar py-2" id="kt_toolbar">
          <!--begin::Container-->
          <div id="kt_toolbar_container" class="container-xxl d-flex flex-stack flex-wrap">
            <!--begin::Page title-->
            <div class="page-title d-flex flex-column me-3">
              <!--begin::Title-->
              <h1 class="d-flex text-gray my-1 fs-5">Program Detail</h1>
              <!--end::Title-->
              <!--begin::Breadcrumb-->
              <ul class="breadcrumb breadcrumb-dot fw-light text-gray-400 fs-8">
                <!--begin::Item-->

                <li class="breadcrumb-item text-gray-600" *ngIf="loginDetails?.roleId == '101'">
                  <a routerLink="/cordinator/CoordinatorDashboard" routerLinkActive="active">Home</a>
                </li>
                <li class="breadcrumb-item text-gray-600" *ngIf="loginDetails?.roleId == '102'">
                  <a routerLink="/mentor/MentorDashboard" routerLinkActive="active">Home</a>
                </li>
                <li class="breadcrumb-item text-gray-600" *ngIf="loginDetails?.roleId == '103'">
                  <a routerLink="/mentee/menteeDashboard" routerLinkActive="active">Home</a>
                </li>
                <!--end::Item-->
                <!--begin::Item-->
                <!-- <li class="breadcrumb-item text-gray-500"
                  *ngIf="loginDetails?.roleId !== '102' && loginDetails?.roleId !== '103' "><a href=""
                    routerLink="/cordinator/program" routerLinkActive="active">Program</a>
                </li> -->
                <li class="breadcrumb-item text-gray-500">
                  <a *ngIf="loginDetails?.roleId == '101'" href="" routerLink="/cordinator/program"
                    routerLinkActive="active">Program</a>
                  <a *ngIf="loginDetails?.roleId == '102'" href="" routerLink="/mentor/mentorProgram"
                    routerLinkActive=" active">Program</a>
                  <a *ngIf="loginDetails?.roleId == '103'" href="" routerLink="/mentee/MenteeProgram"
                    routerLinkActive="active">Program</a>
                </li>
                <!--end::Item-->
                <!--begin::Item-->
                <li class="breadcrumb-item text-gray-500">
                  <a>Program Detail</a>
                </li>
                <!--end::Item-->
              </ul>
              <!--end::Breadcrumb-->
            </div>
            <!--end::Page title-->
            <div class="" *ngIf="loginDetails?.roleId == '101'">
              <a routerLink="/cordinator/program" routerLinkActive="active" class="btn btn-gray btn-sm fs-9"><svg
                  xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                  class="svg replaced-svg">
                  <line x1="19" y1="12" x2="5" y2="12"></line>
                  <polyline points="12 19 5 12 12 5"></polyline>
                </svg>
                Go Back</a>
            </div>
            <div class="" *ngIf="loginDetails?.roleId == '102'">
              <a routerLink="/mentor/mentorProgram" routerLinkActive="active" class="btn btn-gray btn-sm fs-9"><svg
                  xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                  class="svg replaced-svg">
                  <line x1="19" y1="12" x2="5" y2="12"></line>
                  <polyline points="12 19 5 12 12 5"></polyline>
                </svg>
                Go Back</a>
            </div>
            <div class="" *ngIf="loginDetails?.roleId == '103'">
              <a routerLink="/mentee/MenteeProgram" routerLinkActive="active" class="btn btn-gray btn-sm fs-9"><svg
                  xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                  class="svg replaced-svg">
                  <line x1="19" y1="12" x2="5" y2="12"></line>
                  <polyline points="12 19 5 12 12 5"></polyline>
                </svg>
                Go Back</a>
            </div>
          </div>
          <!--end::Container-->
        </div>
        <!--end::Toolbar-->
        <!--begin::Container-->
        <div id="kt_content_container" class="d-flex flex-column-fluid align-items-start container-xxl">
          <!--begin::Post-->
          <div class="content flex-row-fluid" id="kt_content">
            <!--begin::Navbar-->
            <div class="card mb-5 mb-xxl-8">
              <div class="card-body pt-3 pb-3">
                <!--begin::Details-->
                <div class="d-flex flex-wrap flex-sm-nowrap">
                  <!--begin: Pic-->
                  <div class="me-3 mb-1">
                    <div class="symbol symbol-90px symbol-fixed position-relative">
                      <img src="assets/media/svg/illustrations/easy/1.svg" alt="image" />
                    </div>
                  </div>
                  <!--end::Pic-->
                  <!--begin::Info-->
                  <div class="flex-grow-1">
                    <!--begin::Title-->
                    <div class="d-flex justify-content-between align-items-center mb-2">
                      <!--begin::User-->
                      <div class="d-flex flex-column">
                        <!--begin::Name-->
                        <div class="">
                          <a href="#" class="text-gray-900 text-hover-success fs-5 fw-semibold me-1">{{
                            programDetails?.name }}</a>
                          <p class="fs-7 mb-0 fw-light text-gray-600">
                            {{ programDetails?.long_desc }}
                            <!-- Lorem ipsum dolor sit amet consectetur adipisicing
                            elit. Suscipit, ratione voluptates! Nihil
                            accusantium cumque ipsum -->
                          </p>
                        </div>
                        <!--end::Name-->
                      </div>
                      <!--end::User-->
                      <div class="d-flex flex-wrap flex-stack">
                        <!--begin::Wrapper-->
                        <div class="d-flex flex-column flex-grow-1">
                          <!--begin::Stats-->
                          <div class="d-flex flex-wrap">
                            <!--begin::Stat-->
                            <div class="border border-gray-300 border-dashed rounded min-w-125px py-1 px-2 me-1">
                              <!--begin::Number-->
                              <div class="d-flex align-items-center mb-1">
                                <!--begin::Svg Icon | path: icons/duotune/arrows/arr065.svg-->
                                <span class="svg-icon svg-icon-4 svg-icon-primary me-2">
                                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-calendar-week" viewBox="0 0 16 16">
                                    <path
                                      d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-5 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z" />
                                    <path
                                      d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z" />
                                  </svg>
                                </span>
                                <!--end::Svg Icon-->
                                <div class="fs-7 fw-semibold">Start Date</div>
                              </div>
                              <!--end::Number-->
                              <!--begin::Label-->
                              <div class="fw-normal fs-8 text-gray-600">
                                {{
                                programDetails?.startDate
                                | date : "mediumDate"
                                }}
                              </div>
                              <!--end::Label-->
                            </div>
                            <!--end::Stat-->
                            <!--begin::Stat-->
                            <div class="border border-gray-300 border-dashed rounded min-w-125px py-1 px-2 me-1">
                              <!--begin::Number-->
                              <div class="d-flex align-items-center mb-1">
                                <!--begin::Svg Icon | path: icons/duotune/arrows/arr066.svg-->
                                <span class="svg-icon svg-icon-4 svg-icon-danger me-1">
                                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-calendar-week" viewBox="0 0 16 16">
                                    <path
                                      d="M11 6.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm-5 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3 0a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1z" />
                                    <path
                                      d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z" />
                                  </svg>
                                </span>
                                <!--end::Svg Icon-->
                                <div class="fs-7 fw-semibold">End Date</div>
                              </div>
                              <!--end::Number-->
                              <!--begin::Label-->
                              <div class="fw-normal fs-8 text-gray-600">
                                {{
                                programDetails?.endDate | date : "mediumDate"
                                }}
                              </div>
                              <!--end::Label-->
                            </div>
                            <!--end::Stat-->

                            <!--begin::Stat-->
                            <div class="border border-gray-300 border-dashed rounded min-w-100px py-1 px-2 me-1">
                              <!--begin::Number-->
                              <div class="d-flex align-items-center mb-1">
                                <!--begin::Svg Icon | path: icons/duotune/arrows/arr066.svg-->
                                <span class="svg-icon svg-icon-4 svg-icon-success me-2">
                                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-person-lines-fill" viewBox="0 0 16 16">
                                    <path
                                      d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z" />
                                  </svg>
                                </span>
                                <!--end::Svg Icon-->
                                <div class="fs-7 fw-semibold">No. Of Mentors</div>
                              </div>
                              <!--end::Number-->
                              <!--begin::Label-->
                              <div class="fw-normal fs-8 text-gray-600">
                                {{ programDetails?.noOfMentor }}
                              </div>
                              <!--end::Label-->
                            </div>
                            <!--end::Stat-->

                            <!--begin::Stat-->
                            <div class="border border-gray-300 border-dashed rounded min-w-100px py-1 px-2 me-2">
                              <!--begin::Number-->
                              <div class="d-flex align-items-center mb-1">
                                <!--begin::Svg Icon | path: icons/duotune/arrows/arr066.svg-->
                                <span class="svg-icon svg-icon-4 svg-icon-warning me-1">
                                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                                    class="bi bi-person-bounding-box" viewBox="0 0 16 16">
                                    <path
                                      d="M1.5 1a.5.5 0 0 0-.5.5v3a.5.5 0 0 1-1 0v-3A1.5 1.5 0 0 1 1.5 0h3a.5.5 0 0 1 0 1h-3zM11 .5a.5.5 0 0 1 .5-.5h3A1.5 1.5 0 0 1 16 1.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 1-.5-.5zM.5 11a.5.5 0 0 1 .5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 1 0 1h-3A1.5 1.5 0 0 1 0 14.5v-3a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v3a1.5 1.5 0 0 1-1.5 1.5h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 .5-.5z" />
                                    <path
                                      d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm8-9a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" />
                                  </svg>
                                </span>
                                <!--end::Svg Icon-->
                                <div class="fs-7 fw-semibold">No. Of Mentees</div>
                              </div>
                              <!--end::Number-->
                              <!--begin::Label-->
                              <div class="fw-normal fs-8 text-gray-600">
                                {{ programDetails?.noOfMentee }}
                              </div>
                              <!--end::Label-->
                            </div>
                            <!--end::Stat-->
                            <!--end::Stat-->
                            <!--begin::Stat -->
                            <div *ngIf="loginDetails.roleId == '103' || loginDetails.roleId == '102'">
                              <div
                                class="border border-gray-300 border-dashed rounded  py-1 px-2 me-2 cursor-pointer tooltip-bx"
                                *ngFor="let item of feedbackList">
                                <!--begin::Number-->
                                <div *ngIf=" programDetails?.statusLabel == 'Completed'"
                                  class="tooltiptext-bx  tooltip-left">
                                  <div class=" mb-1">
                                    <!--begin::Svg Icon | path: icons/duotune/arrows/arr066.svg-->

                                    <div href="" (click)="feedback = true" class="fs-6 fw-bold "
                                      *ngIf="programDetails?.statusLabel == 'Completed' ">

                                      Feedback
                                    </div>
                                    <!-- <p-rating [(ngModel)]="val" class="sm-rating"></p-rating> -->
                                    <p class="fs-9 mb-1">{{item?.Comment}}</p>


                                    <!--end::Svg Icon-->

                                  </div>
                                </div>
                                <div *ngIf=" programDetails?.statusLabel == 'Completed'"
                                  class="d-flex justify-content-between mb-1">
                                  <!--begin::Svg Icon | path: icons/duotune/arrows/arr066.svg-->
                                  <div class="min-w-100px me-3">
                                    <div href="" (click)="feedback = true" class="fs-7 fw-semibold "
                                      *ngIf="programDetails?.statusLabel == 'Completed'">

                                      Feedback
                                    </div>
                                    <p class="fs-9 mb-1">{{item?.Comment}}</p>
                                  </div>
                                  <p-rating class="sm-rating" [disabled]="true" [(ngModel)]="item.Rating"
                                    [cancel]="false"></p-rating>
                                  <!--end::Svg Icon-->

                                </div>
                                <!--end::Number-->

                              </div>
                            </div>

                            <!--end::Stat-->
                            <!--begin::Stat-->

                            <!--end::Stat-->
                          </div>
                          <!--end::Stats-->
                        </div>
                        <!--end::Wrapper-->
                      </div>
                      <!--begin::Actions-->
                      <div class="d-flex">
                        <a *ngIf="loginDetails.roleId == 101" class="btn btn-sm btn-light me-2 py-1 px-3"
                          routerLink="/shared/EditProgram/{{ Id }}"><svg xmlns="http://www.w3.org/2000/svg" width="12"
                            height="12" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
                            <path
                              d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z" />
                          </svg></a>
                        <div class="card-toolbar">
                          <span class="badge badge-light-success fw-semibold me-auto px-3 py-3">{{
                            programDetails?.statusLabel }}</span>
                        </div>
                      </div>
                    </div>
                    <!--end::Title-->
                    <!--begin::Stats-->
                    <div class="d-flex justify-content-between">
                      <!--begin::Wrapper-->
                      <div class="d-flex flex-wrap">
                        <!--begin::Stat-->
                        <div class="me-1 mt-1"
                          *ngIf="loginDetails.roleId == 101 && programDetails?.statusLabel !='Completed'">
                          <a *ngIf="loginDetails?.roleId == '101' && programDetails?.statusLabel !='Completed'"
                            class="btn btn-dark fs-8 btn-sm fw-normal" routerLink="/cordinator/Add-participant/{{
                              programDetails?.Id
                            }}">Manage Participants</a>
                        </div>
                        <!--end::Stat-->
                        <!--begin::Stat-->
                        <!-- <div class="min-w-125px py-3 px-1">
                          <a
                            href="/main/createSession"
                            class="btn btn-dark fw-bold"
                            >Add Session</a
                          >
                        </div> -->
                        <!--end::Stat-->

                        <!--begin::Stat-->

                        <div class="me-1 mt-1" *ngIf="
                            loginDetails.roleId == '101' &&
                            programDetails?.statusLabel == 'Pending'
                            && programDetails?.statusLabel !='Completed'
                          ">
                          <a class="btn btn-dark fs-8 btn-sm fw-normal" data-bs-toggle="modal"
                            data-bs-target="#mark-complete" (click)="updateProgramStatus(2)">Launch</a>
                        </div>

                        <div class="me-1 mt-1" *ngIf="
                            (loginDetails.roleId == '101' &&
                              programDetails?.statusLabel == 'Launched' &&
                              inprogressstatus == true) ||
                            (programDetails?.statusLabel == 'On hold' &&
                              inprogressstatus == true &&
                              loginDetails.roleId == '101'
                              && programDetails?.statusLabel !='Completed')
                          ">
                          <a class="btn btn-dark fs-8 btn-sm fw-normal" data-bs-toggle="modal"
                            data-bs-target="#mark-complete" (click)="updateProgramStatus(3)">In Progress</a>
                        </div>
                        <!-- <div class="me-1 mt-1">
                          <a routerLink="/cordinator/mapping/{{ this.Id }}"
                            class="btn btn-dark fs-8 btn-sm fw-normal"><svg xmlns="http://www.w3.org/2000/svg"
                              width="12" height="12" fill="currentColor" class="bi bi-pencil me-3"
                              viewBox="0 0 16 16">
                              <path
                                d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z" />
                            </svg>Manage Mentor/Mentee Mapping</a>
                        </div> -->
                        <div class="me-1 mt-1" *ngIf="
                            loginDetails.roleId == '101' &&
                            programDetails?.statusLabel == 'In progress'
                            && programDetails?.statusLabel !='Completed'
                          ">
                          <a class="btn btn-warning fs-8 btn-sm fw-normal" data-bs-toggle="modal"
                            data-bs-target="#mark-complete" (click)="
                              updateProgramStatus(4);
                              (inprogressstatus == false)
                            ">Hold</a>
                        </div>

                        <div class="me-1 mt-1" *ngIf="
                            loginDetails.roleId == '101' &&
                            programDetails?.statusLabel == 'In progress'
                            && programDetails?.statusLabel !='Completed'
                          ">
                          <a class="btn btn-success fs-8 btn-sm fw-normald" data-bs-toggle="modal"
                            data-bs-target="#mark-complete" (click)="updateProgramStatus(5)">Complete</a>
                        </div>


                        <!--end::Stat-->
                        <!--begin::Stat-->

                        <!--end::Stat-->
                        <!--begin::Stat-->
                        <div class="me-1 mt-1" *ngIf="
                            (programDetails?.statusLabel == 'Launched' &&
                              inprogressstatus == false &&
                              loginDetails.roleId == '101') ||
                            (programDetails?.statusLabel == 'On hold' &&
                              inprogressstatus == false &&
                              loginDetails.roleId == '101')
                              && programDetails?.statusLabel !='Completed'
                          ">
                          <a class="btn btn-primary fs-8 btn-sm fw-normal" data-bs-toggle="modal"
                            (click)="startProgram()" data-bs-target="#StartProgram">Start Program</a>
                        </div>
                        <div class="me-1 mt-1">
                          <a *ngIf="loginDetails.roleId == 102 && programDetails?.statusLabel !='Completed'"
                            class="btn btn-primary fs-8 btn-sm" (click)="openSlotsPopup = true">Create and View
                            Slots</a>

                          <a *ngIf="loginDetails.roleId == 103 && programDetails?.statusLabel !='Completed'"
                            class="btn btn-success fs-8 btn-sm fw-normal" (click)="openSlotsPopup = true">Book
                            Slots</a>
                        </div>


                        <!--end::Stat-->
                      </div>
                      <!--end::Stats-->
                      <div class="d-flex flex-wrap">
                        <div class="me-1 mt-1" *ngIf="
                        loginDetails.roleId == '101' &&
                        programDetails?.statusLabel != 'Cancelled'
                        && programDetails?.statusLabel !='Completed'
                      ">
                          <a class="btn btn-light-danger fs-8 btn-sm fw-normal" data-bs-toggle="modal"
                            data-bs-target="#mark-complete" (click)="updateProgramStatus(6)">Cancel</a>
                        </div>
                        <div class="me-1 mt-1"
                          *ngIf="loginDetails.roleId == '101'&& programDetails?.statusLabel !='Completed'">
                          <a class="btn btn-light-primary fs-8 btn-sm fw-normal"
                            routerLink="/cordinator/run-algorithm/{{ Id }}">Run Matching Algorithm</a>
                        </div>

                      </div>
                      <!--end::Wrapper-->
                    </div>
                    <!--end::Stats-->
                  </div>
                  <!--end::Info-->
                </div>
                <!--end::Details-->
              </div>
            </div>
            <!--end::Navbar-->
            <div class="card mb-5 mb-xxl-8" *ngIf="loginDetails.roleId == 101">
              <div class="card-header align-items-center">
                <div class="card-title m-0">
                  <h3 class="fw-semibold m-0 fs-6">Survey Info</h3>
                </div>
                <div class="" *ngIf="
                    loginDetails?.roleId !== '102' &&
                    loginDetails?.roleId !== '103'
                  ">
                  <a routerLink="/cordinator/ViewQuestionairaEmployeeList/{{
                      Id
                    }}" class="btn btn-dark fs-8 btn-sm fw-normal">View Responses</a>
                </div>
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="col-lg-4">
                    <div class="border border-gray-300 border-dashed rounded py-2 px-3">
                      <!--begin::Number-->
                      <div class="d-flex justify-content-between align-items-center">
                        <div class="fs-6 fw-semibold counted">Mentee</div>

                        <!--end::Number-->

                        <!--begin::Label-->
                        <div class="">
                          <!-- <div class="fw-normal fs-9 text-gray-600 mb-1 text-center">
                            Mentee Survey Name 
                          </div> -->
                          <span class="badge badge-light text-muted"> {{
                            programDetails?.menteeQuestionnaireName }}</span>
                        </div>
                        <!--end::Label-->
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-4">
                    <div class="border border-gray-300 border-dashed rounded py-2 px-3">
                      <!--begin::Number-->
                      <div class="d-flex justify-content-between align-items-center">
                        <div class="fs-6 fw-semibold counted">Mentor</div>
                        <!--end::Number-->
                        <!--begin::Label-->
                        <div class="">
                          <!-- <div class="fw-normal fs-9 text-gray-600 mb-1 text-center">
                            Mentor Survey Name
                          </div> -->
                          <span class="badge badge-light text-muted"> {{
                            programDetails?.mentorQuestionnaireName }}</span>
                        </div>
                        <!--end::Label-->
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-4"></div>
                </div>
              </div>
            </div>

            <!--begin::mentor mentee list-->
            <div class="row g-5 g-xxl-8 mb-5">
              <div class="col-xl-6">
                <app-mentor-list></app-mentor-list>
              </div>
              <div class="col-xl-6">
                <app-mentee-list></app-mentee-list>
              </div>
            </div>
            <!--end::list-->

            <!--begin::files Notes list-->
            <div class="row g-5 g-xxl-8 mb-5">
              <div class="col-xl-6">
                <!--begin::Team-->
                <app-files></app-files>
                <!--end::Team-->
              </div>
              <div class="col-xl-6">
                <app-notes></app-notes>
              </div>
            </div>
            <!--end::list-->
            <!--begin::Toolbar-->
            <app-session-detials #sessionDetails></app-session-detials>



            <!-- =========add feedback========= -->
            <div class="col-xl-12 col-xxl-8 mb-5  mt-3 "
              *ngIf="programDetails?.statusLabel == 'Completed' && loginDetails.roleId == '101'">
              <div class="card card-flush h-xl-100">
                <div class="card-header pt-2">

                  <!--begin::Card title-->
                  <h3 class="card-title align-items-start flex-column">
                    <span class="card-label fw-semibold fs-4 text-dark">My Feedback</span>
                  </h3>
                  <!--end::Card title-->
                </div>
                <div class="card-header py-2 px-0">
                  <!-- <button pButton label="Clear" class="p-button-outlined" icon="pi pi-filter-slash" (click)="clear(dt1)"></button> -->
                  <span class="p-input-icon-left">
                    <i class="pi pi-search"></i>

                    <input type="text" data-kt-user-table-filter="search"
                      class="form-control form-control-solid w-250px ps-14" placeholder="Search Feedback"
                      (keyup)="search($event)" />
                  </span>
                </div>
                <div class="card-body pt-1">
                  <div class="separator separator-dashed my-5"></div>
                  <div class="table-responsive"> <!--begin::Table-->
                    <p-table #dt1 [value]="feedbackList" [paginator]="true" [rows]="10"
                      [globalFilterFields]="['Name','Comment','AttendeeRole']"
                      class="table align-middle table-striped table-hover " id="kt_table_users">
                      <!--begin::Table head-->
                      <ng-template pTemplate="header">
                        <tr class="text-start text-muted fw-semibold fs-8 text-uppercase gs-0">
                          <th pSortableColumn="Name" class="min-w-125px " field="title">
                            Name<p-sortIcon field="name"></p-sortIcon></th>
                          <th pSortableColumn="AttendeeRole" field="questionnaireid" class="min-w-125px">
                            AttendeeRole<p-sortIcon field="name"></p-sortIcon></th>
                          <th pSortableColumn="Comment" class="min-w-125px " field="desc">
                            Comment<p-sortIcon field="name"></p-sortIcon></th>
                          <th pSortableColumn="Rating" field="questionnaireid" class="min-w-125px">
                            Rating<p-sortIcon field="name"></p-sortIcon></th>

                          <!-- <th class="text-end min-w-100px">Actions</th> -->
                        </tr>
                      </ng-template>
                      <ng-template pTemplate="body" let-item class="text-gray-600 fw-semibold">
                        <tr>
                          <td><a class="text-gray-800 text-hover-primary">{{item?.Name}}</a>
                          </td>
                          <td>{{item?.AttendeeRole}}</td>
                          <td>{{item?.Comment}}</td>
                          <td><p-rating class="sm-rating" [disabled]="true" [(ngModel)]="item.Rating"
                              [cancel]="false"></p-rating>
                          </td>
                        </tr>
                      </ng-template>
                    </p-table>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Modal -->
          <div class="modal fade" id="feedback" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
            aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <!--begin::Close-->
                <div class="d-block text-right">
                  <div class="btn btn-icon btn-sm btn-active-icon-success" data-bs-dismiss="modal">
                    <!--begin::Svg Icon | path: icons/duotune/arrows/arr061.svg-->
                    <span class="svg-icon svg-icon-1">
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1"
                          transform="rotate(-45 6 17.3137)" fill="currentColor" />
                        <rect x="7.41422" y="6" width="16" height="2" rx="1" transform="rotate(45 7.41422 6)"
                          fill="currentColor" />
                      </svg>
                    </span>
                    <!--end::Svg Icon-->
                  </div>
                </div>
                <!--end::Close-->
                <div class="modal-body">
                  <div class="form-group py-3">
                    <img
                      src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSvbTYSuo7rThjsLAgwbd0KFI4-OckhGUipirB_auCivhFzVaRKYa4XPLFRvLKnmB-k4w&usqp=CAU"
                      style="width: 200px" />
                  </div>
                  <div class="form-group">
                    <label for="">Comment</label>
                    <textarea class="form-control" id="exampleFormControlTextarea1" rows="5"></textarea>
                  </div>
                  <div class="form-check mt-4">
                    <input class="form-check-input position-static" type="checkbox" id="blankCheckbox" value="option1"
                      aria-label="..." />
                    <label>Mark Annonimus</label>
                  </div>

                  <div class="text-right">
                    <button type="button" class="btn btn-success mt-4">
                      submit
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!--end::Modals-->

          <!--begin::Modal - Upload File-->

          <!--end::Modal - Upload File-->
        </div>
      </div>
    </div>
  </div>
</div>

<p-dialog [(visible)]="createAppointmentPopup" [modal]="true" class="text-center">
  <div class="row mt-10" *ngIf="loginDetails.roleId == '102'">
    <div class="col-lg-12">
      <div class="card mb-5 mb-xl-10">
        <div class="card-body p-2">
          <ul class="nav nav-custom nav-tabs nav-line-tabs nav-line-tabs-2x border-0 fs-4 fw-semibold mb-82"
            id="pills-tab" role="tablist">
            <!-- <li class="nav-item" role="presentation">
                          <a class="nav-link text-active-success pb-4 active" id="pills-signle-slot-tab" data-bs-toggle="pill" data-bs-target="#pills-signle-slot" type="button" role="tab" aria-controls="pills-signle-slot" aria-selected="true">Single</a>
                       </li> -->
            <h5>Multiple</h5>
          </ul>
          <div class="tab-content" id="pills-tabContent">
            <div class="tab-pane fade show active" id="pills-launched" role="tabpanel"
              aria-labelledby="pills-responed-tab">
              <form [formGroup]="createAppointmentForm">
                <div class="week-row">
                  <ul class="list-unstyled">
                    <span *ngFor="let days of daysList; let i = index">
                      <li [value]="days.value" (click)="selectedDays($event, days)" [ngClass]="{
                          active: selectedDaysValue.has(days.value)
                        }">
                        {{ days.label }}
                      </li>
                    </span>
                  </ul>

                  <p class="invalidField-message" *ngIf="selectedAppointmentDays && isInvalidForm">
                    Please select days.
                  </p>
                </div>

                <div class="row fv-row my-5 align-items-center">
                  <div class="col-md-2">
                    <label class="form-label">Date</label>
                  </div>
                  <div class="col-md-10">
                    <div class="row align-items-center">
                      <div class="col">
                        <input type="date" class="form-control bg-transparent" formControlName="startDate" />
                        <p class="invalidField-message" *ngIf="
                            createAppointmentForm.controls[
                              'startDate'
                            ].hasError('required') && isInvalidForm
                          ">
                          Start Date is mandatory.
                        </p>
                        <p class="invalidField-message" *ngIf="startDateInValid">
                          Start Date should not less than today date.
                        </p>
                      </div>
                      <div class="col-1">To</div>
                      <div class="col">
                        <input type="date" class="form-control bg-transparent" formControlName="endDate" />
                        <p class="invalidField-message" *ngIf="
                            createAppointmentForm.controls['endDate'].hasError(
                              'required'
                            ) && isInvalidForm
                          ">
                          End Date is mandatory.
                        </p>
                        <p class="invalidField-message" *ngIf="isInvalidDate">
                          End date is greater than start date.
                        </p>
                      </div>
                      <!-- <div class="col-2">
                                             <a href="" class="btn btn-sm btn-info align-self-center">Add</a>
                                         </div> -->
                    </div>
                  </div>
                </div>

                <div class="row fv-row my-5 align-items-center">
                  <div class="col-md-2">
                    <label class="form-label">Time</label>
                  </div>
                  <div class="col-md-10">
                    <div class="row align-items-center">
                      <div class="col">
                        <input type="time" class="form-control bg-transparent" formControlName="startTime" />
                        <p class="invalidField-message" *ngIf="
                            createAppointmentForm.controls[
                              'startTime'
                            ].hasError('required') && isInvalidForm
                          ">
                          Start time is mandatory.
                        </p>
                      </div>
                      <div class="col-1">To</div>
                      <div class="col">
                        <input type="time" class="form-control bg-transparent" formControlName="endTime" />
                        <p class="invalidField-message" *ngIf="
                            createAppointmentForm.controls['endTime'].hasError(
                              'required'
                            ) && isInvalidForm
                          ">
                          End time is mandatory.
                        </p>
                        <p class="invalidField-message" *ngIf="isInvalidTime">
                          End time is not less than start time.
                        </p>
                      </div>
                      <!-- <div class="col-2">
                                             <a href="" class="btn btn-sm btn-info align-self-center">Add</a>
                                         </div> -->
                    </div>
                  </div>
                </div>

                <div class="row fv-row my-5 align-items-center">
                  <div class="col-md-2">
                    <label class="form-label">Duration<br /><sub>(in minutes)</sub></label>
                  </div>
                  <div class="col-md-10">
                    <div class="row align-items-center">
                      <div class="col">
                        <input type="number" class="form-control bg-transparent" formControlName="duration" />
                        <p class="invalidField-message" *ngIf="
                            createAppointmentForm.controls['duration'].hasError(
                              'required'
                            ) && isInvalidForm
                          ">
                          Duration is mandatory.
                        </p>
                      </div>
                      <!-- <div class="col-2">Minutes</div> -->
                      <div class="col"></div>
                    </div>
                  </div>
                </div>

                <div class="fv-row my-5 text-right">
                  <a class="btn btn-sm btn-danger align-self-center" (click)="createAppointments()">Create</a>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-4"></div>
    <!-- </div> -->
  </div>
</p-dialog>

<p-dialog [(visible)]="openSlotsPopup" [modal]="true" class=" appoinment-bx-area"
  [style]="{ width: '50vw', height: '35vw' }" header="Open Slots">
  <div class="row" *ngIf="loginDetails.roleId == '102' || loginDetails.roleId == '103'">
    <div class="col-lg-12">
      <div class="card my-3">
        <div class="card-body">
          <div class="">

            <div class="items">
              <div class="row">
                <div class="col-sm-6">
                  <div class="d-flex align-items-start flex-wrap">
                    <div class="book-date-head me-6" style="border-left: 0">
                      <label for="appointmentCalendar">
                        <p-calendar *ngIf="loginDetails?.roleId == 102" [readonlyInput]="true" class="bookingCalander"
                          [minDate]="currentDate" [(ngModel)]="selectedDate1" id="appointmentCalendar"
                          dateFormat="mm.dd.yyyy" (onSelect)="changeSelectedDate($event)" [showOtherMonths]="true">
                          <ng-template pTemplate="date" let-date let-i="rowIndex">
                            <span style="position: relative">
                              {{ date.day }}
                            </span>
                          </ng-template>
                        </p-calendar>
                        <p-calendar *ngIf="loginDetails?.roleId == 103" [readonlyInput]="true" class="bookingCalander"
                          [minDate]="currentDate" [(ngModel)]="selectedDate2" id="appointmentCalendar"
                          dateFormat="mm.dd.yyyy" (onSelect)="changeSelectedSlotDate($event)" [showOtherMonths]="true">
                          <ng-template pTemplate="date" let-date let-i="rowIndex">
                            <span style="position: relative">
                              {{ date.day }}
                            </span>
                          </ng-template>
                        </p-calendar>
                      </label>
                      <span *ngIf="selectedDate && loginDetails?.roleId == 102" class="w3-animate-top">{{
                        getDate(selectedDate1) }}</span>
                      <span *ngIf="selectedDate && loginDetails?.roleId == 103" class="w3-animate-top">{{
                        getDates(selectedDate2) }}</span>
                      <p class="text-dark fw-semibold">
                        Click to change date
                      </p>
                    </div>
                    <div class="change-date-btn" *ngIf="loginDetails?.roleId == 102">

                      <button name="prev" (click)="getPreviousDate(selectedDate1)"
                        class="btn-previous btn btn-light-danger btn-xs btn-icon me-2">
                        <i class="fa fa-chevron-left fs-9" aria-hidden="true"></i>
                      </button>

                      <button name="next" (click)="getNextDate(selectedDate1)"
                        class="btn-next btn btn-light-danger btn-xs btn-icon">
                        <i class="fa fa-chevron-right fs-9" aria-hidden="true"></i>
                      </button>
                    </div>
                    <div class="change-date-btn" *ngIf="loginDetails?.roleId == 103">

                      <button name="prev" (click)="getMentorPreviousDate(selectedDate2)"
                        class="btn-previous btn btn-light-danger btn-xs btn-icon me-2">
                        <i class="fa fa-chevron-left fs-9" aria-hidden="true"></i>
                      </button>

                      <button name="next" (click)="getMentorNextDate(selectedDate2)"
                        class="btn-next btn btn-light-danger btn-xs btn-icon">
                        <i class="fa fa-chevron-right fs-9" aria-hidden="true"></i>
                      </button>
                    </div>
                  </div>
                </div>
                <div class="col-sm-6 text-right">
                  <button type="button" (click)="addAppointments()" class="create-btn"
                    *ngIf="loginDetails?.roleId == 102" class="btn btn-primary btn-sm">
                    Create
                  </button>
                </div>

                <div class="col-12 col-md-12 mb-3 text-right">
                  <div class="form-group">

                  </div>
                </div>
              </div>
            </div>

          </div>




          <div class="appoinment-slots border-dashed p-4">
            <div *ngIf="appointmentList?.length <= 0 && loginDetails?.roleId == 102">
              <h4 class="text-center mb-0">Slots Not Found</h4>
            </div>
            <div *ngIf="loginDetails?.roleId == 103 && appointmentMentorSchedule?.length <= 0">
              <h4 class="text-center mb-0">Slots Not Found</h4>
            </div>
            <div class="week-row border-0">
              <ul class="list-unstyled app-slots open-slots" *ngIf="loginDetails?.roleId == 102">
                <!-- <span > -->
                <li *ngFor="let slots of appointmentList; let i = index">
                  <span>
                    <!-- {{ slots.startTime | date : "mediumDate" }} -->
                    {{ slots.startTime | date : "shortTime" }}

                    <button class="fa fa-trash" (click)="deletePopup = true; appointmentId = slots?.id"></button>
                  </span>
                </li>

                <!-- </span> -->
              </ul>

              <!-- <ul class="list-unstyled app-slots" *ngIf="loginDetails?.roleId==103">
                  <li *ngFor="let slots of appointmentList; let i = index;"  [value]="slots?.id" >
                    <span *ngIf="slots.confirmBook == false" (click)="selectedItem(slots)"
                    > {{ slots.startTime | date:'mediumDate' }}
                       {{ slots.startTime | date:'shortTime' }}</span>

                       <span *ngIf="slots.confirmBook == true"
                       > Book</span>
                  </li>
              </ul> -->

              <div class="list-unstyled app-slots" *ngIf="loginDetails?.roleId == 103">
                <button (click)="selectedItem(slots)" *ngFor="let slots of appointmentMentorSchedule; let i = index"
                  [value]="slots?.id" class="btn appoint-btn btn-light-dark btn-sm me-2 mb-2">
                  <span *ngIf="slots.confirmBook == false">
                    <!-- {{ slots.startTime | date : "mediumDate" }} -->
                    {{ slots?.startTime | date : "shortTime" }}</span>

                  <li *ngIf="
                      selectedAppointmentId == slots?.id &&
                      slots?.confirmBook == true
                    ">
                    <a class="confirm-time">{{
                      slots?.startTime | date : "shortTime"
                      }}</a>
                    <a class="confirm-btn btn btn-sm btn-primary py-1 px-2 fs-8 fw-light"
                      (click)="BookAppointment(slots)">Confirm</a>
                  </li>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-4"></div>
    <!-- </div> -->
  </div>
</p-dialog>

<p-dialog [(visible)]="deletePopup" [modal]="true" class="text-center">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-body">
        <div class="swal2-icon swal2-error swal2-icon-show" style="display: flex">
          <span class="swal2-x-mark">
            <span class="swal2-x-mark-line-left"></span>
            <span class="swal2-x-mark-line-right"></span>
          </span>
        </div>
        <div class="swal2-html-container">
          Are you sure you want to delete this slot?
        </div>
        <div class="text-center">
          <button type="button" class="btn btn-light mt-4" (click)="deletePopup = false">
            Cancel
          </button>
          <button style="margin-left: 4px" type="button" class="btn btn-primary mt-4" (click)="deleteSlots()">
            Confirm
          </button>
        </div>
      </div>
    </div>
  </div>
</p-dialog>

<p-dialog [(visible)]="feedback" [modal]="true" class="" [style]="{ width: '27vw', height: '17vw' }"
  *ngIf="feedbackList?.length<=0">
  <form [formGroup]="feedbackForm">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-body">
          <div class="text-center mb-4">
            <p-rating formControlName="rating" [cancel]="false"></p-rating>
          </div>
          <div class="">
            <div class="form-group">
              <textarea type="text" placeholder="Commment" formControlName="comment" class="form-control"></textarea>
            </div>
            <div class="form-group my-4">
              <p-checkbox name="isAnonymous" formControlName="isAnonymous" [binary]="true"></p-checkbox> Make Anonymous
            </div>
            <div class="form-group text-right">
              <button class="btn btn-primary btn-sm " (click)="submitFeedback()">
                Post
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
</p-dialog>